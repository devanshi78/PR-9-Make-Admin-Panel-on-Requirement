<%- include('../partials/header.ejs') %>
  <style>
  .product-card {
    background: #fff;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    transition: all 0.3s ease;
    border: 1px solid #e8e8e8;
  }

  .product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.12);
  }

  .product-card img {
    width: 100%;
    height: 180px;
    object-fit: cover;
  }

  .product-info {
    padding: 15px;
  }

  .product-info h5 {
    font-size: 18px;
    font-weight: 600;
    color: #212121;
  }

  .badge-custom {
    background: #2962ff;
    padding: 3px 8px;
    font-size: 12px;
    border-radius: 6px;
  }

  .action-btns a {
    margin-right: 8px;
  }
</style>
      <!-- ============================================================== -->
      <!-- End Left Sidebar - style you can find in sidebar.scss  -->
      <!-- ============================================================== -->
      <!-- ============================================================== -->
      <!-- Page wrapper -->
      <!-- ============================================================== -->
      <div class="page-wrapper">
        <!-- ============================================================== -->
        <!-- Bread crumb and right sidebar toggle -->
        <!-- ============================================================== -->
        <div class="page-breadcrumb">
          <div class="row">
            <div class="col-12 d-flex no-block align-items-center">
              <h4 class="page-title">Product Page</h4>
              <div class="ms-auto text-end">
                <nav aria-label="breadcrumb">
                  <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page">
                      Library
                    </li>
                  </ol>
                </nav>
              </div>
            </div>
          </div>
        </div>
        <!-- ============================================================== -->
        <!-- End Bread crumb and right sidebar toggle -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Container fluid  -->
        <!-- ============================================================== -->
        <div class="container-fluid">
          <!-- ============================================================== -->
          <!-- Start Page Content -->
          <!-- ============================================================== -->
          <div class="row">
            <div class="col-12">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title mb-0">Products</h5>
                </div>
                <div class="row px-2">
                  <% products.forEach((value) => { 
                    const {id,name,image,price,category,subcategory,extracategory} = value;
                  %>

                  <div class="col-md-4 col-lg-3 col-sm-6 mb-4">
                    <a href="/product-detail/<%= id %>" style="text-decoration:none; color:inherit;">
                      <div class="product-card">
                        <img src="<%= image %>" alt="<%= name %>">

                        <div class="product-info">
                          <h5><%= name %></h5>
                          <h6><span>â‚¹ </span><%= price %></h6>

                          <p class="mb-1"> 
                            <span class="badge badge-custom"><%= category.name %></span>
                          </p>

                          <small style="color:#757575">
                            Sub: <%= subcategory.name %> <br>
                            Extra: <%= extracategory.name %>
                          </small>

                          <div class="action-btns mt-3">
                            <a href="/product/edit/<%= id %>" class="btn btn-warning btn-sm">
                              Edit
                            </a>
                            <a href="/product/delete/<%= id %>" class="btn btn-danger btn-sm">
                              Delete
                            </a>
                          </div>
                        </div>
                      </div>
                    </a>
                  </div>

                  <% }) %>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- ============================================================== -->
        <!-- End Container fluid  -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- footer -->
        <!-- ============================================================== -->
<%- include('../partials/footer.ejs') %>